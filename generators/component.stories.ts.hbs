import { expect } from '@storybook/jest'
import { within } from '@storybook/testing-library'
import { Story } from '@storybook/vue3'

import {{pascalCase componentName}} from './{{ snakeCase componentName }}.vue'

export default {
  title: 'components/{{pascalCase componentName}}',
  component: {{pascalCase componentName}}
}

const Template: Story = (args) => ({
  components: { {{pascalCase componentName}} },
  setup() {
    return { args }
  },  
  template: '<{{kebabCase componentName}} v-bind="args" />'
})

export const DefaultState = Template.bind({})
DefaultState.args = {}
DefaultState.play = async ({ canvasElement }) => {
  const canvas = within(canvasElement)
  await expect(canvas.getAllByText('{{pascalCase componentName}}')[0]).toBeTruthy()
}

